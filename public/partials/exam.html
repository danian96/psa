

<head>
    <link rel="stylesheet" href="bower_components/flipclock/compiled/flipclock.css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="bower_components/flipclock/compiled/flipclock.js"></script>

</head>

<body>
    <div class="clock" style="margin:2em;"></div>
    <div class="message"></div>

    <script type="text/javascript">
        var clock;

        $(document).ready(function() {
            /*
            clock = $('.clock').FlipClock(3600, {
                clockFace: 'MinuteCounter',
                countdown: true,
                callbacks: {
                    stop: function() {
                        document.getElementsByName('submit')[0].click();
                    }
                }
            });
            */
            countDown = function(){
                var currentDate = Math.round(new Date() / 1000);

                var clock = $('.clock').FlipClock({
                    countdown: true,
                    callbacks: {
                        init: function() {
                            //store end date If it's not yet in cookies
                            if(!$.cookie('endDate')){
                                // end date = current date + 1 minutes
                                var endDate = Date.now() + 60*60*1000;

                                // store end date in cookies
                                $.cookie('endDate', Math.round(endDate / 1000));
                            }
                        },
                        stop: function() {
                            $('.message').html('The clock has stopped!');
                        },
                    }
                });

                /* counter will be at first 1 min if the user refresh the page the counter will
                 be the difference between current and end Date, so like this counter can
                 continue the countdown normally in case of refresh. */
                var counter = $.cookie('endDate')-currentDate;

                clock.setTime(counter);
                clock.setCountdown(true);

                clock.start();
            }

            //reset button
            $('#reset').click(function(){
                $.removeCookie('endDate'); //removing end date from cookies
                countDown(); //launch countdown function
            });

            //Lanching count down on ready
            countDown();
        });
    </script>


    <div class="row">

        <div>

            <!-- class="col-md-20 col-md-offset-20" -->
            <h2>{{index + 1}}) {{currentQuestion.text}}</h2>
            <h1></h1>

            <div class="radio" ng-repeat="answer in currentAnswers">

                <label>
                    <input type="radio" value="{{answer.id}}" ng-model="$parent.selected" />
                    {{answer.text}}
                </label>

            </div>

            <div class="btn-group">
                <p><button type="button" class="btn btn-success form-control" ng-click="previousQuestion()">Previous</button></p>
                <p><button type="button" class="btn btn-success form-control" ng-click="nextQuestion()">Next</button></p>
                <p><button type="button" class="btn btn-success form-control" name="submit" ng-click="finishExam()">Finish Exam!</button></p>
                <p><button type="button" name="initialTime" value="{{initialTime}}"> </button></p>
            </div>
            <h1></h1>

            <!-- botones de la materia 1 -->
            <h4>{{getSubjectName(0)}}</h4>
            <div class="btn-group" data-ng-repeat = "i in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]">
                <button type="button" class="btn btn-success form-control" ng-click="goToQuestion(i)"> {{i + 1}}</button>
            </div>

            <!-- botones de la materia 2 -->
            <h4>{{getSubjectName(1)}}</h4>
            <div class="btn-group" data-ng-repeat = "i in [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]">
                <button type="button" class="btn btn-success form-control" ng-click="goToQuestion(i)">{{i + 1}}</button>
            </div>

            <!-- botones de la materia 3 -->
            <h4>{{getSubjectName(2)}}</h4>
            <div class="btn-group" data-ng-repeat = "i in [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]">
                <button type="button" class="btn btn-success form-control" ng-click="goToQuestion(i)">{{i + 1}}</button>
            </div>

            <!-- botones de la materia 4 -->
            <h4>{{getSubjectName(3)}}</h4>
            <div class="btn-group" data-ng-repeat = "i in [30, 31, 32, 33, 34, 35, 36, 37, 38, 39]">
                <button type="button" class="btn btn-success form-control" ng-click="goToQuestion(i)">{{i + 1}}</button>
            </div>

        </div>
    </div>

</body>


